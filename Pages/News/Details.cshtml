@page "{id:int?}"
@model FakeNews.Pages.News.DetailsModel

@{
    ViewData["Title"] = "Details of the news";
}

<h1>Details</h1>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

<div>
    <h4>News</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News.Title)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News.Title)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News.Content)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News.Content)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News.PublishDate)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News.PublishDate)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News.Domain)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News.Domain)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News.Credibility)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News.Credibility)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News.NumberOfLikes)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News.NumberOfLikes)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.News.NumberOfDislike)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.News.NumberOfDislike)
        </dd>
    </dl>
</div>
<div>
    <a asp-page="./Edit" asp-route-id="@Model.News.ID">Edit</a> |
    <a asp-page="./Index">Back to List</a>
    <input type="button" value="Check news" class="btn btn-primary">
    <form method="post">
        <button onclick="@ToggleLike()" asp-page-handler="LikeTask" asp-route-id="@Model.News.ID"
                class="btn @( _liked == true ? "btn-primary" : "btn-secondary" )">
            <i class="fas fa-thumbs-up fa-lg"></i>
        </button>
        <button onclick="@ToggleDislike()" asp-page-handler="DislikeTask" asp-route-id="@Model.News.ID"
                class="btn @( _disliked == true ? "btn-primary" : "btn-secondary" )">
            <i class="fas fa-thumbs-down fa-lg"></i>
        </button>
    </form>
</div>

<h3>@Model.Message</h3>

@functions {
    bool _liked;

    async Task ToggleLike()
    {
        _liked = !_liked;
    }
}
@functions {
    bool _disliked;

    async Task ToggleDislike()
    {
        _disliked = !_disliked;
    }
}